<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

<script>
function validateForm() {
  var name = document.forms["myForm"]["name"].value;
  var description = document.forms["myForm"]["description"].value;
  var price = document.forms["myForm"]["price"].value;
  
  if (name == "" || description == "" || price == "") {
    alert("Todos os campos devem ser preenchidos!");
    return false;
  } else {
    document.forms["myForm"].submit();
  }
}

document.addEventListener("DOMContentLoaded", function() {
  // Redireciona para a página /products após o envio bem-sucedido do formulário
  document.forms["myForm"].addEventListener("submit", function() {
    window.location.href = "/products";
  });
});
</script>


<title>Add New Product</title>
<style>
body {
	font-family: Arial, sans-serif;
}

h1 {
	font-size: 28px;
	font-weight: bold;
	margin-bottom: 20px;
}

form {
	width: 100%;
	max-width: 800px;
	margin: 0 auto;
}

label {
	display: inline-block;
	width: 100px;
	font-weight: bold;
	margin-bottom: 10px;
}

input[type="text"], input[type="number"] {
	padding: 10px;
	border-radius: 4px;
	border: 1px solid #ddd;
	width: 100%;
	max-width: 400px;
	margin-bottom: 20px;
}

input[type="submit"], button {
    display: inline-block;
    background-color: #4CAF50;
    color: #fff;
    padding: 10px 20px;
    text-decoration: none;
    border-radius: 4px;
    cursor: pointer;
    border: none;
    width: 10em; /* tamanho relativo */
    text-align: center;
}

input[type="submit"]:hover, button:hover {
	background-color: #3e8e41;
}

.btn-back {
    display: inline-block;
    background-color: #4CAF50;
    color: #fff;
    padding: 10px 20px;
    text-decoration: none;
    border-radius: 4px;
    cursor: pointer;
    border: none;
    width: 10em; /* tamanho relativo */
    text-align: center;
}

.btn-home {
    display: inline-block;
    background-color: #4CAF50;
    color: #fff;
    padding: 10px 20px;
    text-decoration: none;
    border-radius: 4px;
    cursor: pointer;
    border: none;
    width: 10em; /* tamanho relativo */
    text-align: center;
}

.btn-add {
    display: inline-block;
    background-color: #4CAF50;
    color: #fff;
    padding: 10px 20px;
    text-decoration: none;
    border-radius: 4px;
    cursor: pointer;
    border: none;
    width: 10em; /* tamanho relativo */
    text-align: center;
}

</style>
</head>
<body>
	<h1>Add New Product</h1>
	<form th:action="@{/products}" th:object="${product}" method="post" name="myForm">
		<label>Name:</label> <input type="text" th:field="*{name}" required><br>
		<br> <label>Description:</label> <input type="text"
			th:field="*{description}" required><br>
		<br> <label>Price:</label> <input type="number"
			th:field="*{price}" required><br>
		<br> 
		<a class="btn-add" onclick="return validateForm(); document.forms[0].submit()">Add</a>			
		<a class="btn-back" onclick="history.back()">Voltar</a>
		<a class="btn-home" th:href="@{/principal}">Home</a>
	</form>
</body>
</html>